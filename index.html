<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å£¹æ†çƒ˜ç„™åº—</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #FFE4E1;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #game-container {
            background-color: #FFF0F5;
            border: 5px solid #FF69B4;
            border-radius: 15px;
            padding: 20px;
            width: 800px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #FF1493;
            text-align: center;
            margin-bottom: 20px;
        }
        .section {
            background-color: #FFF;
            border: 2px solid #FFB6C1;
            border-radius: 10px;
            padding: 10px;
            margin-bottom: 20px;
        }
        .section h2 {
            color: #FF69B4;
            margin-top: 0;
        }
        .resource {
            display: inline-block;
            margin-right: 20px;
            font-weight: bold;
        }
        button {
            background-color: #FF69B4;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #FF1493;
        }
        #orders {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .order {
            background-color: #FFF0F5;
            border: 2px solid #FFB6C1;
            border-radius: 10px;
            padding: 10px;
            width: 30%;
        }
        #status {
            text-align: center;
            font-weight: bold;
            color: #FF1493;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>ğŸ§ ç”œå¿ƒçƒ˜ç„™åº— ğŸ°</h1>
        
        <div class="section" id="resources">
            <h2>èµ„æº</h2>
            <div class="resource">ğŸ’° é‡‘é’±: <span id="money">100</span></div>
            <div class="resource">ğŸŒ¾ é¢ç²‰: <span id="flour">0</span>kg</div>
            <div class="resource">ğŸ¬ ç³–: <span id="sugar">0</span>kg</div>
            <div class="resource">ğŸ§ˆ é»„æ²¹: <span id="butter">0</span>kg</div>
        </div>
        
        <div class="section">
            <h2>è´­ä¹°åŸæ–™</h2>
            <button onclick="buy('flour')">è´­ä¹°é¢ç²‰ (10å…ƒ/kg)</button>
            <button onclick="buy('sugar')">è´­ä¹°ç³– (5å…ƒ/kg)</button>
            <button onclick="buy('butter')">è´­ä¹°é»„æ²¹ (8å…ƒ/kg)</button>
        </div>
        
        <div class="section">
            <h2>åˆ¶ä½œäº§å“</h2>
            <button onclick="bake('cookies')">åˆ¶ä½œé¥¼å¹² ğŸª</button>
            <button onclick="bake('cake')">åˆ¶ä½œè›‹ç³• ğŸ‚</button>
        </div>
        
        <div class="section">
            <h2>åº“å­˜</h2>
            <div class="resource">ğŸª é¥¼å¹²: <span id="cookies">0</span></div>
            <div class="resource">ğŸ‚ è›‹ç³•: <span id="cake">0</span></div>
        </div>
        
        <div class="section" id="orders">
            <div class="order">
                <h3>è®¢å• 1</h3>
                <p>ğŸª é¥¼å¹² x2</p>
                <button onclick="fulfillOrder(0)">å®Œæˆè®¢å•</button>
            </div>
            <div class="order">
                <h3>è®¢å• 2</h3>
                <p>ğŸ‚ è›‹ç³• x1</p>
                <button onclick="fulfillOrder(1)">å®Œæˆè®¢å•</button>
            </div>
            <div class="order">
                <h3>è®¢å• 3</h3>
                <p>ğŸª é¥¼å¹² x1<br>ğŸ‚ è›‹ç³• x1</p>
                <button onclick="fulfillOrder(2)">å®Œæˆè®¢å•</button>
            </div>
        </div>
        
        <div id="status"></div>
    </div>

    <script>
        let resources = {
            money: 100,
            flour: 0,
            sugar: 0,
            butter: 0,
            cookies: 0,
            cake: 0
        };

        const prices = {
            flour: 10,
            sugar: 5,
            butter: 8,
            cookies: 15,
            cake: 30
        };

        const recipes = {
            cookies: {flour: 0.2, sugar: 0.1, butter: 0.1},
            cake: {flour: 0.5, sugar: 0.3, butter: 0.2}
        };

        const orders = [
            {cookies: 2, cake: 0, reward: 40},
            {cookies: 0, cake: 1, reward: 45},
            {cookies: 1, cake: 1, reward: 60}
        ];

        function updateDisplay() {
            for (let resource in resources) {
                let element = document.getElementById(resource);
                if (element) {
                    element.textContent = resources[resource];
                }
            }
        }

        function buy(ingredient) {
            if (resources.money >= prices[ingredient]) {
                resources[ingredient]++;
                resources.money -= prices[ingredient];
                updateDisplay();
                setStatus(`è´­ä¹°äº†1kg ${ingredient}`);
            } else {
                setStatus("èµ„é‡‘ä¸è¶³ï¼");
            }
        }

        function bake(product) {
            let recipe = recipes[product];
            let canBake = true;
            for (let ingredient in recipe) {
                if (resources[ingredient] < recipe[ingredient]) {
                    canBake = false;
                    break;
                }
            }
            if (canBake) {
                for (let ingredient in recipe) {
                    resources[ingredient] -= recipe[ingredient];
                }
                resources[product]++;
                updateDisplay();
                setStatus(`åˆ¶ä½œäº†1ä¸ª ${product}`);
            } else {
                setStatus("åŸæ–™ä¸è¶³ï¼");
            }
        }

        function fulfillOrder(orderIndex) {
            let order = orders[orderIndex];
            if (resources.cookies >= order.cookies && resources.cake >= order.cake) {
                resources.cookies -= order.cookies;
                resources.cake -= order.cake;
                resources.money += order.reward;
                updateDisplay();
                setStatus(`å®Œæˆè®¢å•ï¼Œè·å¾— ${order.reward} å…ƒï¼`);
                generateNewOrder(orderIndex);
            } else {
                setStatus("åº“å­˜ä¸è¶³ï¼Œæ— æ³•å®Œæˆè®¢å•ï¼");
            }
        }

        function generateNewOrder(orderIndex) {
            let newOrder = {
                cookies: Math.floor(Math.random() * 3),
                cake: Math.floor(Math.random() * 2),
            };
            newOrder.reward = newOrder.cookies * prices.cookies + newOrder.cake * prices.cake + 10;
            orders[orderIndex] = newOrder;
            updateOrderDisplay();
        }

        function updateOrderDisplay() {
            let orderElements = document.getElementsByClassName('order');
            for (let i = 0; i < orderElements.length; i++) {
                let order = orders[i];
                let orderHTML = `<h3>è®¢å• ${i+1}</h3>`;
                if (order.cookies > 0) orderHTML += `<p>ğŸª é¥¼å¹² x${order.cookies}</p>`;
                if (order.cake > 0) orderHTML += `<p>ğŸ‚ è›‹ç³• x${order.cake}</p>`;
                orderHTML += `<button onclick="fulfillOrder(${i})">å®Œæˆè®¢å•</button>`;
                orderElements[i].innerHTML = orderHTML;
            }
        }

        function setStatus(message) {
            document.getElementById('status').textContent = message;
        }

        updateDisplay();
        updateOrderDisplay();
    </script>
</body>
</html>